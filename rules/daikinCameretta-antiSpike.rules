rule "Daikin Cameretta Anti Spike"

  when
    Item sf12_Temp changed

  then
  
    var Number cur_temp = sf12_Temp.state 
    var Number setpoint_max = DaikinCameretta_MaxTemp.state 
    var Number setpoint_min = DaikinCameretta_MinTemp.state 

    if (DaikinCameretta_AntiSpike.state == ON) {

      if ((cur_temp).floatValue > ((setpoint_max).floatValue)) {
        sendCommand(DaikinCameretta_Fan, SILENCE)
        logInfo("DaikinCamerettaAntiSpike","AntiSpikeCameretta: Temp: " + (cur_temp).floatValue + "C > " + (setpoint_max).floatValue + "C")
      }

      if ((cur_temp).floatValue < ((setpoint_min).floatValue)) {
        sendCommand(DaikinCameretta_Fan, LEVEL_1)
        logInfo("DaikinCamerettaAntiSpike","AntiSpikeCameretta: Temp: " + (cur_temp).floatValue + "C <" + (setpoint_min).floatValue + "C")
      }

    }

end
